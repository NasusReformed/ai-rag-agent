<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent RAG - Dashboard</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ AI Agent RAG System</h1>
            <p>Production-Ready Portfolio Demo</p>
        </header>

        <div class="main-grid">
            <!-- Sidebar -->
            <aside class="sidebar">
                <nav>
                    <button class="nav-btn active" data-tab="chat">üí¨ Chat</button>
                    <button class="nav-btn" data-tab="documents">üìö Documents</button>
                    <button class="nav-btn" data-tab="search">üîç Search</button>
                    <button class="nav-btn" data-tab="tools">üõ†Ô∏è Tools</button>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="content">
                <!-- Chat Tab -->
                <section id="chat" class="tab-panel active">
                    <h2>Agent Chat (RAG + Tools)</h2>
                    <div class="chat-container">
                        <div class="messages" id="messages">
                            <div class="message system">
                                <p>Welcome to the AI Agent. Ask a question or request action.</p>
                            </div>
                        </div>
                        <div class="input-area">
                            <textarea id="userInput" placeholder="Type your message..." rows="3"></textarea>
                            <button onclick="sendMessage()" class="btn-primary">Send</button>
                        </div>
                    </div>
                </section>

                <!-- Documents Tab -->
                <section id="documents" class="tab-panel">
                    <h2>Index Documents</h2>
                    <button onclick="loadDemoData()" class="btn-secondary">üì• Load Demo Data</button>
                    <div class="form-group" style="margin-top: 1.5rem;">
                        <label>Or add document manually:</label>
                    </div>
                    <div class="form-group">
                        <label>Document Content:</label>
                        <textarea id="docContent" placeholder="Enter document text..." rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Category:</label>
                        <input type="text" id="docCategory" placeholder="e.g., kb, support, billing" value="kb">
                    </div>
                    <button onclick="indexDocument()" class="btn-primary">Index Document</button>
                    <div id="indexStatus"></div>
                </section>

                <!-- Search Tab -->
                <section id="search" class="tab-panel">
                    <h2>Search Knowledge Base</h2>
                    <div class="form-group">
                        <label>Search Query:</label>
                        <input type="text" id="searchQuery" placeholder="Search the knowledge base...">
                    </div>
                    <button onclick="searchDocuments()" class="btn-primary">Search</button>
                    <div id="searchResults" class="results-container"></div>
                </section>

                <!-- Tools Tab -->
                <section id="tools" class="tab-panel">
                    <h2>Execute Tools</h2>
                    <div class="form-group">
                        <label>Tool:</label>
                        <select id="toolSelect">
                            <option>create_ticket</option>
                            <option>log_event</option>
                            <option>save_document</option>
                            <option>search_documents</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Title (for ticket):</label>
                        <input type="text" id="toolTitle" placeholder="Ticket title">
                    </div>
                    <div class="form-group">
                        <label>Priority:</label>
                        <select id="toolPriority">
                            <option>low</option>
                            <option selected>medium</option>
                            <option>high</option>
                        </select>
                    </div>
                    <button onclick="executeTool()" class="btn-primary">Execute</button>
                    <div id="toolResult"></div>
                </section>
            </main>
        </div>

        <footer>
            <p>API Status: <span id="apiStatus" class="status-connecting">Connecting...</span></p>
        </footer>
    </div>

    <script src="static/app.js"></script>
</body>
</html>
